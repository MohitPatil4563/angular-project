<div *ngIf="isLoading" class="spinner"></div>
<div class="row justify-content-md-center mt-5">
    <div class="col-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title mb-4">Register</h5>
                <form>
                    <div class="mb-3">
                        <label for="firstName" class="form-label">First Name <span>*</span>
                        </label>
                        <input type="text" class="form-control" id="firstName" name="firstName"
                            [(ngModel)]="registerFormData.firstName" #firstName="ngModel" required
                            [class.is-invalid]="firstName.invalid && firstName.touched" />
                        <div *ngIf="firstName.invalid && firstName.touched " class="text-danger">
                            First name is required.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Last Name <span>*</span>
                        </label>
                        <input type="text" class="form-control" id="lastName" name="lastName"
                            [(ngModel)]="registerFormData.lastName" #lastName="ngModel" required
                            [class.is-invalid]="lastName.invalid && lastName.touched" />
                        <div *ngIf="lastName.invalid && lastName.touched" class="text-danger">
                            Last name is required.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">
                            Email address <span>*</span>
                        </label>
                        <input type="email" class="form-control" id="email" name="email" required email
                            [(ngModel)]="registerFormData.email" #emailModel="ngModel"
                            [class.is-invalid]="emailModel.invalid && emailModel.touched" />

                        <!-- Validation Messages -->
                        <div class="text-danger mt-1" *ngIf="emailModel.invalid && emailModel.touched">
                            <div *ngIf="emailModel.errors?.['required']">Email is required.</div>
                            <div *ngIf="emailModel.errors?.['email']">Please enter a valid email address.</div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Password <span>*</span>
                        </label>
                        <input type="text" class="form-control" id="password" name="password" required
                            [(ngModel)]="registerFormData.password" #passwordModel="ngModel"
                            [class.is-invalid]="passwordModel.invalid && passwordModel.touched" />
                        <div *ngIf="passwordModel.invalid && passwordModel.touched" class="text-danger">
                            Password is required.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="role" class="form-label">Role <span>*</span>
                        </label>
                        <!-- <ng-select [items]="cars"
           bindLabel="name"
           bindValue="id"
           [(ngModel)]="registerFormData.role">
</ng-select> -->
                        <select id="role" class="form-select" name="role" [(ngModel)]="registerFormData.role" required
                            #role="ngModel">
                            <option value="" disabled selected>Select a role</option>
                            <option value="Employer">Employer</option>
                            <!-- <option value="Employee">Employee</option> -->
                        </select>

                        <div *ngIf="role.invalid && role.touched" class="text-danger">
                            Please select role
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="phoneNumber" class="form-label">Phone Number
                        </label>
                        <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" required
                            [(ngModel)]="registerFormData.phoneNumber" />
                    </div>
                    <div class="mb-3">
                        <label for="streetAddress" class="form-label">Street Address
                        </label>
                        <input type="text" class="form-control" id="streetAddress" name="streetAddress" required
                            [(ngModel)]="registerFormData.streetAddress" />
                    </div>
                    <div class="mb-3">
                        <label for="suburb" class="form-label">Suburb
                        </label>
                        <input type="text" class="form-control" id="suburb" name="suburb" required
                            [(ngModel)]="registerFormData.suburb" />
                    </div>
                    <div class="mb-3">
                        <label for="postcode" class="form-label">Post Code
                        </label>
                        <input type="text" class="form-control" id="postcode" name="postcode" required
                            [(ngModel)]="registerFormData.postcode" />
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary btn-block" (click)="registerAction()">Register
                            Now</button>

                        <p className="text-center">Have already an account <a routerLink="/login">Login here</a>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>